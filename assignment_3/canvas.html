<!DOCTYPE html>
<html>

<head>
    <title>CS465 Assignment 3</title>

    <script id="vertex-shader" type="x-shader/x-vertex">
        precision mediump float;
        //uniform mat4 uModelViewMatrix;
        uniform mat4 projectionMatrix;
        attribute vec4 vColor;
        varying vec4 fColor;

        attribute vec3 inputs; // [u, v, aa]

        float cosh( float i ) {
            float e = 2.718282;
            return (pow(e, i) + pow(e, -1.0*i))/2.0;
        }

        float xx(float u, float w, float denom, float aa) {            
            return -1.0*u + (2.0*(1.0 - pow(aa, 2.0))*cosh(aa*u)*sin(aa*u)) / denom;            
        }
        
        float yy(float u, float v, float w, float denom, float aa) {
            return (2.0*w*cosh(aa*u)*(-1.0*w*cos(v)*cos(w*v)-sin(v)*sin(w*v)))/denom;
        }
        
        float zz(float u, float v, float w, float denom, float aa) {
            return (2.0*w*cosh(aa*u)*(-1.0*w*sin(v)*cos(w*v)+cos(v)*sin(w*v)))/denom;
        }

        //vec3 normal(float p1x, float p1y, float p1z, float p2x, float p2y, float p2z, float p3x, float p3y, float p3z) {
        //    float v1x = p2x - p1x;
        //    float v1y = p2y - p1y;
        //    float v1z = p2z - p1z;
        //    float v2x = p3x - p1x;
        //    float v2y = p3y - p1y;
        //    float v2z = p3z - p1z;
        //
        //    float nx = v1y * v2z - v1z * v2y;
        //    float ny = v1z * v2x - v1x * v2z;
        //    float nz = v1x * v2y - v1y * v2x;
        //
        //    float len = (nx + ny + nz) > 0.0 ? sqrt(pow(nx, 2.0) + pow(ny, 2.0) + pow(nz, 2.0)) : 1e8;
        //    nx /= len;
        //    ny /= len;
        //    nz /= len;
        //
        //    return vec3(nx, ny, nz);
        //}
        //
        //float brightness(float v1x, float v1y, float v1z, float v2x, float v2y, float v2z) {
        //    float dot = v1x * v2x + v1y * v2y + v1z * v2z;
        //
        //    float  v1len = sqrt(pow(v1x, 2.0) + pow(v1y, 2.0) + pow(v1z, 2.0));
        //    float  v2len = sqrt(pow(v2x, 2.0) + pow(v2y, 2.0) + pow(v2z, 2.0));
        //
        //    float nur = dot / (v1len * v2len);
        //
        //    return abs(nur);
        //}
        //
        //float shadedColor(float p1x, float p1y, float p1z, float p2x, float p2y, float p2z, float p3x, float p3y, float p3z, vec3 lightSourcePos){
        //
        //    vec3 norm = normal(p1x, p1y, p1z, p2x, p2y, p2z, p3x, p3y, p3z);
        //    float bright = brightness(norm[0], norm[1], norm[2], lightSourcePos[0], lightSourcePos[1], lightSourcePos[2]);
        //    return bright;
        //}


        void main() {

            float u = inputs[0];
            float v = inputs[1];
            float aa = inputs[2];

            float w = sqrt(1.0 - pow(aa, 2.0));
            float denom = aa * (pow(w*cosh(aa*u), 2.0) + pow(aa*sin(w*u), 2.0));
            //vec3 lightSourcePos = vec3(1, 1, 1);
            
            float x = xx(u, w, denom, aa) / 8.0;
            float y = yy(u, v, w, denom, aa) / 8.0;
            float z = zz(u, v, w, denom, aa) / 8.0;

            gl_Position = vec4(x, y, z, 1.0);
            fColor = vec4(1.0, 1.0, 1.0, 1.0);
        }
    </script>

    <script id="fragment-shader" type="x-shader/x-fragment">
        precision mediump float;
        varying vec4 fColor;

        void main() {
            gl_FragColor = fColor;
        }
    </script>

    <script type="text/javascript" src="Common/webgl-utils.js"></script>
    <script type="text/javascript" src="Common/initShaders.js"></script>
    <script type="text/javascript" src="Common/MV.js"></script>
    <link
        href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAABILAAASCwAAAAAAAAAAAABxbGj/cWxo/3FsaP9xbGj/cWxo/3FsaP9xbGj/cWxo/3FsaP9xbGj/cWxo/3FsaP9xbGj/cWxo/3FsaP9xbGj/ODIr/zgyK/84Miv/ODIr/zgyK/84Miv/ODIr/zgyLP84Miz/ODIr/zgyK/84Miv/ODIr/zgyK/84Miv/ODIr/0I8Nv9CPDb/Qjw2/0I8Nv9CPDb/QTs3/0E7OP9BOzf/QTs4/0E7Of9CPDb/Qjw2/0I8Nv9CPDb/Qjw2/0I8Nv9AOjT/QDo0/0A6NP9AOjT/QDo1/0I7L/9DPSr/Qjws/0M9Kv9FPib/QTsy/0A6Nf9AOjT/QDo0/0A6NP9AOjT/QDo0/0A6NP9AOjT/Pzk2/0I8Lv85M0v/Kyd1/xMRw/8SEMf/IyCP/z04PP9BOzL/QDo1/0A6NP9AOjT/QDo0/0A6NP9AOjT/QDo1/0I8L/88NkL/DgzT/xEPyv8AAP//AAD+/wIC+f8gHZj/Qjsv/0A6NP9AOjT/QDo0/0A6NP9AOjT/QDo0/0E6Mv8/OTj/Hxyd/xUTvf8IB+b/Cgne/xcVtf8VE73/BAPz/yIflP9EPib/Pzk3/0A6NP9AOjT/QDo0/0A6Nf9CPC3/NjFT/x0aov8cGqX/EhDG/xEPy/8CAfr/AAD+/wAA//8MC9n/QTsy/0A6NP9AOjT/QDo0/0A6NP8/OTb/Qz0q/zAsZv8YFbP/JCGM/woJ4f8EA/P/BQTx/wYG6/8JCOT/GBaz/z85Nv9AOjP/QDo0/0A6NP9AOjT/QDo1/0E7Mf88NkH/FBK//yQhi/8YFrL/EA7N/xMRwv8UEr//DQzV/xgWsv9CPCz/QDo2/0A6NP9AOjT/QDo0/0A6NP8/OTf/RD4m/x4bn/8RD8j/FhS5/wkI4v8AAP//AAD+/wAA//8tKXH/Qz0p/z85N/9AOjT/QDo0/0A6NP9AOjT/QDo0/0A6M/8/OTb/KSV7/wQD8/8ODdP/ExHE/xQSwP8qJnr/Qz0q/z85Nv9AOjT/QDo0/0A6NP9AOjT/QDo0/0A6NP9AOjX/QDoz/0M9Kv82MVT/JiKH/y0ocf9AOjT/RD4o/z85Nv9AOjT/QDo0/0A6NP9AOjT/QDo0/0A6NP9AOjT/QDo0/0A6Nf8/OTb/Qjwt/0U+JP9EPSj/QDo0/z85N/9AOjT/QDo0/0A6NP9AOjT/QDo0/0A6NP9AOjT/QDo0/0A6NP9AOjT/QDo0/0A6Nv8/OTf/Pzk3/0A6Nf9AOjT/QDo0/0A6NP9AOjT/QDo0/0A6NP9AOjT/QDo0/0A6NP9AOjT/QDo0/0A6NP9AOjT/QDo0/0A6NP9AOjT/QDo0/0A6NP9AOjT/QDo0/0A6NP9AOjT/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="
        rel="icon" type="image/x-icon" />
    <script type="text/javascript" src="script.js"></script>
</head>

<body>
    <div style="display: flex;">
        <canvas id="canvas" width="600" height="600" style="border: 2px solid black;">
            Oops ... your browser doesn't support the HTML5 canvas element
        </canvas>

        <!-- Application Configuration Tools -->
        <div style="padding-left: 60px;">
            

        </div>
    </div>
</body>

</html>